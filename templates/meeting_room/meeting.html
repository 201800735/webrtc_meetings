{% load static %}

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="{{meeting.description}}">

    <title>{{meeting.description}}</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  </head>

  <body>	        
    <main role="main">
	  
      <section class="text-center">
        <div class="container">
          <div class="btn-group" role="group">
             <button type="button" id="toggleCall" class="btn btn-sm btn-outline-secondary">Disconnect</button>
             <button type="button" id="muteAudio" class="btn btn-sm btn-outline-secondary" disabled="disabled">Mute Audio</button>
             <button type="button" id="muteVideo" class="btn btn-sm btn-outline-secondary" disabled="disabled">Mute Video</button>
             <button id="recordButton" class="btn btn-sm btn-outline-secondary">Start Recording</button>
             <button id="shareScreenButton" class="btn btn-sm btn-outline-secondary">Share Screen</button>
	          <button id="downloadRecordButton" disabled="disabled" class="btn btn-sm btn-outline-secondary">Download</button>
           </div>
           <div class="btn-group" role="group">
             <button type="button" class="btn btn-sm gear">Settings</button>
             <div class="dropdown-menu" aria-labelledby="settingDropDown">
			      <section id="personalization">
				        <div>
				            <h2>Set Name</h2>
				            <input id="myName" type="text" />
				            <button class="cusbut" id="setName" onclick="saveMyName();">save</button><span id="myNameStatus"></span>
				        </div>
				    </section>
				    <section  id="constraints">
				            <div id="getUserMedia">
				            <div class="input">
				              <h2>Camera settings</h2>
				              <br />
				              <div id="minWidth">
				                <label>Min width <span>640</span>px:</label>
				                <input type="range" min="0" max="1920" value="640">
				              </div>
				              <div id="maxWidth">
				                <label>Max width <span>1920</span>px:</label>
				                <input type="range" min="0" max="1920" value="1920">
				              </div>
				              <div id="minHeight">
				                <label>Min height <span>480</span>px:</label>
				                <input type="range" min="0" max="1080" value="480">
				              </div>
				              <div id="maxHeight">
				                <label>Max height <span>1080</span>px:</label>
				                <input type="range" min="0" max="1080" value="1080">
				              </div>
				              <div id="framerate">
				                <label>Max Frame rate <span>0</span>fps:</label>
				                <input type="range" min="5" max="50" value="0">
				              </div>
				            </div>
				            <div id="getUserMediaConstraints" class="output"></div>
				          </div>
				    </section>
		    </div>
           </div>
        </div>
      </section>

      <div class="album py-5 bg-light">
        <div class="container-fluid">

          <div class="row">
            <div class="col-md-1">
             	<div class="embed-responsive embed-responsive-16by9" id="myVideoContainer">
		              
		        </div> 
            </div>
            <div class="col-md-11">
            	<div class="container-fluid">
            		<div class="row no-gutters" id="video-list">
            		
            		</div>
            	</div>
            </div>
          </div>  
        </div>
      </div>

    </main>
	
    <footer class="text-muted">
      <div class="container">
         <div style="display: none;">
             	<div id="chat-container" class="chat">

               </div>
             	<div id="file-share" class="file-share" style="display: none;">
                <form id="fileInfo">
                    <input type="file" id="fileInput" name="files" disabled="disabled"/>
                </form>
                <div class="progress">
                    <div class="label">Send progress: </div>
                    <span id="fileStatus"></span>
                    <progress id="sendProgress" max="0" value="0"></progress>
                </div>
                  <div id="downloads">
                      <div class="progress">
                        <div class="label" id="receiveProgressLabel">Receive progress: </div>
                        <progress id="receiveProgress" max="0" value="0"></progress>
                      </div>
                      <div id="bitrate"></div>
                      <a id="download"></a>

                  </div>
                  <div id="">
                      <button id="muteAudio"  disabled="disabled">Mute Audio</button>
                      <button id="muteVideo"  disabled="disabled">Mute Video</button>
                  </div>
                  
                  <div id="restart">
                      <button id="toggleCall" disabled="disabled">Disconnect</button>
                  </div>
           	</div>
             </div>
      </div>
    </footer>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
    <script type="text/javascript" src="{% static 'js/common.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/recording.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/meetings.js' %}"></script>
	  <script type="text/javascript"> 
	  	  $(document).ready(function() {
	  		trace("using ice "+ '{{ ice_uri }}');
	        connect('{{ ice_uri }}');
	  	  });
	    </script>    
     
 </body>
</html>

